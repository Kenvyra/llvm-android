From 0fe4f555dd09039a8349127291aab327022d8c50 Mon Sep 17 00:00:00 2001
From: Jens Reidel <jens.reidel@gmail.com>
Date: Tue, 2 Aug 2022 15:23:25 +0200
Subject: [PATCH] SONAME is the same as major in LLVM 16

Change-Id: Ie84aeb9783eb6e4ad86cd7c43b32ea78433a106f
---
 do_build.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/do_build.py b/do_build.py
index 2b5045e..3ab9109 100755
--- a/do_build.py
+++ b/do_build.py
@@ -222,7 +222,7 @@ def normalize_llvm_host_libs(install_dir: Path, host: hosts.Host, version: Versi
     for libname, libformat in libs.items():
         short_version, major = getVersions(libname)
 
-        soname_version = '13' if libname == 'libclang' else major
+        soname_version = major
         soname_lib = os.path.join(libdir, libformat.format(version=soname_version))
         if libname.startswith('libclang') and libname != 'libclang-cpp':
             soname_lib = soname_lib[:-3]
-- 
2.37.1

